name: tumbleweed-rmt-server

on:

  workflow_dispatch:
  
  #schedule:
  #  - cron: '0 0 * * *'  # every day at midnight

jobs:

  build:
    runs-on: ubuntu-latest

    steps:
      
      - name: Buildah
        uses: redhat-actions/buildah-build@v2
        with:
          id: build-image
          # The base image to use to create a new container image
          base-image: registry.opensuse.org/opensuse/tumbleweed:latest
          image: ${{ github.workflow }}
          tags: >-
            ${{ github.sha }}
            ${{ github.run_number }}
            latest
           
      #Check if image is build
      - name: Check images created
        run: buildah images
        
      - name: test
        run: echo "${{ github.run_number }}"
        
      - name: test 2
        run: echo "${{ github.sha }}" 
        
      - name: repo owner
        run: echo "${{ github.repository_owner }}"
        
      - name: actor
        run: echo "${{ github.actor }}"
              
      #- name: Push To quay.io
      #  id: push-to-ghcr
      #  uses: redhat-actions/push-to-registry@v2
      #  with:
      #    image: ${{ steps.build-image.outputs.image }}
      #    tags: ${{ steps.build-image.outputs.tags }}
      #    registry: ghcr.io/quay-user
      #    username: quay-user
      #    password: ${{ secrets.REGISTRY_PASSWORD }}

